{"version":3,"sources":["assets\\script\\AdsManager.js"],"names":["cc","Class","Component","properties","showFullUnitId","videoUnitId","banner","showFull","video","rewardVideoCallback","onLoad","sys","platform","IPHONE","ANDROID","IPAD","tradplus","tradPlusService","setEnableLog","initSdk","setNeedTestDevice","getBanner","bannerUnitId","getInterstitial","getRewardedVideo","setAdListener","onAdLoaded","adSourceName","log","onAdClicked","onAdLoadFailed","adError","onAdImpression","onAdShowFailed","onAdClosed","onBannerRefreshed","onAdAllLoaded","onAdFailed","loadInterstitial","onAdPlayFailed","onOneLayerLoadFailed","onOneLayerLoaded","loadAd","onAdNotReward","onAdReward","currencyName","amount","loadVideo","showRewardedVideo","callback","ready","showAd","showBanner","showInterstitial","isHasVideo","isHasInterstitial"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // bannerUnitId: \"\",\r\n        showFullUnitId: \"\",\r\n        videoUnitId: \"\",\r\n        banner: null,\r\n        showFull: null,\r\n        video: null,\r\n        rewardVideoCallback: null,\r\n        //bannerLoaded: false,\r\n    },\r\n\r\n    onLoad() {\r\n        if (cc.sys.platform===cc.sys.IPHONE || cc.sys.platform===cc.sys.ANDROID || cc.sys.platform===cc.sys.IPAD) {\r\n            // Enable debug log, this is for testing only, please comment it out before publish.\r\n            tradplus.tradPlusService.setEnableLog(true);\r\n            // Initialize the SDK.\r\n            tradplus.tradPlusService.initSdk();\r\n            // Enable test mode, this is for testing only, please comment it out before publish.\r\n            tradplus.tradPlusService.setNeedTestDevice(true);\r\n            // Enable debug log, this is for testing only, please comment it out before publish.\r\n            tradplus.tradPlusService.setEnableLog(true);\r\n\r\n            this.banner = tradplus.tradPlusService.getBanner(this.bannerUnitId);\r\n            this.showFull = tradplus.tradPlusService.getInterstitial(this.showFullUnitId);\r\n            this.video = tradplus.tradPlusService.getRewardedVideo(this.videoUnitId);\r\n\r\n            this.banner.setAdListener({\r\n                onAdLoaded: (adSourceName) => {\r\n                    // Triggered on Ad loaded, adSourceName is the name of Ad source platform.\r\n                    //this.bannerLoaded = true;\r\n                    cc.log(\"banner loaded\");\r\n                },\r\n\r\n                onAdClicked: () => {\r\n                    // Triggered on Ad clicked.\r\n                },\r\n\r\n                onAdLoadFailed: (adError) => {\r\n                    // Triggered on Ad load failed, adError contains error information.\r\n                    cc.log(\"AdLoadFailed: \" + adError);\r\n                },\r\n\r\n                onAdImpression: () => {\r\n                    // Triggered on Ad shown.\r\n                },\r\n\r\n                onAdShowFailed: (adError) => {\r\n                    // Triggered on Ad show failed, adError contains error information.\r\n                    // NOTE: This callback will only triggered on Android.\r\n                    cc.log(\"AdShowFailed\" + adError);\r\n                },\r\n\r\n                onAdClosed: () => {\r\n                    // Triggered on Ad closed.\r\n                    // NOTE: This callback will only triggered on Android.\r\n                },\r\n\r\n                onBannerRefreshed: () => {\r\n                    // Triggered on Ad refreshed.\r\n                    // NOTE: This callback will only triggered on Android.\r\n                },\r\n            });\r\n\r\n            this.showFull.setAdListener({\r\n                onAdAllLoaded: (adSourceName) => {\r\n                    // Triggered on Ad loaded, adSourceName is the name of Ad source platform.\r\n                },\r\n\r\n                onAdLoaded: (adSourceName) => {\r\n                    // Triggered on Ad loaded, adSourceName is the name of Ad source platform.\r\n                },\r\n\r\n                onAdClicked: () => {\r\n                    // Triggered on Ad clicked.\r\n                },\r\n\r\n                onAdFailed: (adError) => {\r\n                    // Triggered on Ad load failed, adError contains error information.\r\n                },\r\n\r\n                onAdImpression: () => {\r\n                    // Triggered on Ad shown.\r\n                },\r\n\r\n                onAdShowFailed: (adError) => {\r\n                    // Triggered on Ad show failed, adError contains error information.\r\n                    // NOTE: This callback will only triggered on Android.\r\n                },\r\n\r\n                onAdClosed: () => {\r\n                    // Triggered on Ad closed.\r\n                    // NOTE: This callback will only triggered on Android.\r\n                    this.loadInterstitial();\r\n                },\r\n\r\n                onAdPlayFailed: (adError) => {\r\n                    // Triggered on Ad load failed, adError contains error information.\r\n                },\r\n\r\n                onOneLayerLoadFailed: (adSourceName, adError) => {\r\n                    // Triggered on Ad load failed, adError contains error information.\r\n                },\r\n\r\n                onOneLayerLoaded: (adSourceName) => {\r\n                    // Triggered on Ad loaded, adSourceName is the name of Ad source platform.\r\n                },\r\n            });\r\n\r\n            this.video.setAdListener({\r\n                onAdAllLoaded: (adSourceName) => {\r\n                    // Triggered on Ad loaded, adSourceName is the name of Ad source platform.\r\n                },\r\n\r\n                onAdLoaded: (adSourceName) => {\r\n                    // Triggered on Ad loaded, adSourceName is the name of Ad source platform.\r\n                },\r\n\r\n                onAdClicked: () => {\r\n                    // Triggered on Ad clicked.\r\n                },\r\n\r\n                onAdFailed: (adError) => {\r\n                    // Triggered on Ad load failed, adError contains error information.\r\n                    // cc.log(\"onAdFailed: \" + adError);\r\n                },\r\n\r\n                onAdImpression: () => {\r\n                    // Triggered on Ad shown.\r\n                },\r\n\r\n                onAdClosed: () => {\r\n                    // Triggered on Ad closed.\r\n                    // NOTE: This callback will only triggered on Android.\r\n                    this.video.loadAd();\r\n                },\r\n\r\n                onAdPlayFailed: (adError) => {\r\n                    // Triggered on Ad shown, adSourceName is the name of Ad source platform\r\n                    // cc.log(\"onAdPlayFailed: \" + adError);\r\n                },\r\n\r\n                onOneLayerLoadFailed: (adSourceName, adError) => {\r\n                    // Triggered on Ad load failed, adError contains error information.\r\n                    // cc.log(\"onOneLayerLoadFailed: \" + adError);\r\n                },\r\n\r\n                onOneLayerLoaded: (adSourceName) => {\r\n                    // Triggered on Ad loaded, adSourceName is the name of Ad source platform.\r\n                },\r\n\r\n                onAdNotReward: () => {\r\n\r\n                },\r\n\r\n                onAdReward: (currencyName, amount) => {\r\n                    if(this.rewardVideoCallback != null)\r\n                    {\r\n                        this.rewardVideoCallback();\r\n                    }\r\n                },\r\n            });\r\n            this.loadVideo();\r\n            this.loadInterstitial();\r\n        }\r\n    },\r\n\r\n    loadInterstitial(){\r\n        this.showFull.loadAd();\r\n    },\r\n\r\n    loadVideo(){\r\n        this.video.loadAd();\r\n    },\r\n\r\n    showRewardedVideo(callback) {\r\n        if(cc.sys.platform===cc.sys.IPHONE || cc.sys.platform===cc.sys.ANDROID || cc.sys.platform===cc.sys.IPAD)\r\n        {\r\n            if(this.showFull != null && this.video.ready)\r\n            {\r\n                this.rewardVideoCallback = callback;\r\n                this.video.showAd();\r\n            }\r\n        }\r\n    },\r\n\r\n    showBanner() {\r\n        if(cc.sys.platform===cc.sys.IPHONE || cc.sys.platform===cc.sys.ANDROID || cc.sys.platform===cc.sys.IPAD)\r\n        {\r\n            if(this.banner != null)\r\n            {\r\n                this.banner.loadAd('bottom');\r\n            }\r\n        }\r\n    },\r\n\r\n    showInterstitial() {\r\n        if(cc.sys.platform===cc.sys.IPHONE || cc.sys.platform===cc.sys.ANDROID || cc.sys.platform===cc.sys.IPAD)\r\n        {\r\n            if(this.showFull != null && this.showFull.ready)\r\n            {\r\n                this.showFull.showAd();\r\n            }\r\n        }\r\n    },\r\n\r\n    isHasVideo(){\r\n        return this.video.ready;\r\n    },\r\n\r\n    isHasInterstitial(){\r\n        return this.showFull.ready;\r\n    },\r\n});\r\n"]}
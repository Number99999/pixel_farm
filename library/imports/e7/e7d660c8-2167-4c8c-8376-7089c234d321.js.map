{"version":3,"sources":["assets\\script\\ui\\option_ui.js"],"names":["user_data","require","cc","Class","Component","properties","grandPa_node","Node","sound_node_sprite","Sprite","sound_frame_arr","SpriteFrame","progress_bar","ProgressBar","ini_node","game_scene_js","find","getComponent","ad_control","sound_control","scaleY","node","active","click_count","sound_state","spriteFrame","grandPa_anim","tween","to","easing","start","on_sounde_button_click","play_sound_effect","pause_all_sound","resume_all_sound","play_bg_sound","on_grandPa_click","progress","random_num","Math","floor","random","i","create_gold_effect","on_novice_button_click","create_novice_ui","touch_exit","on_node_kill"],"mappings":";;;;;;AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAvB;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,YAAY,EAAEJ,EAAE,CAACK,IADT;AAERC,IAAAA,iBAAiB,EAAEN,EAAE,CAACO,MAFd;AAGRC,IAAAA,eAAe,EAAE,CAACR,EAAE,CAACS,WAAJ,CAHT;AAIRC,IAAAA,YAAY,EAAEV,EAAE,CAACW;AAJT,GAHP;AASL;AACAC,EAAAA,QAVK,sBAUM;AACP,SAAKC,aAAL,GAAqBb,EAAE,CAACc,IAAH,CAAQ,SAAR,EAAmBC,YAAnB,CAAgC,YAAhC,CAArB;AACA,SAAKC,UAAL,GAAkBhB,EAAE,CAACc,IAAH,CAAQ,YAAR,EAAsBC,YAAtB,CAAmC,YAAnC,CAAlB;AACA,SAAKE,aAAL,GAAqBjB,EAAE,CAACc,IAAH,CAAQ,eAAR,EAAyBC,YAAzB,CAAsC,eAAtC,CAArB;AACA,SAAKX,YAAL,CAAkBc,MAAlB,GAA2B,CAA3B;AACA,SAAKR,YAAL,CAAkBS,IAAlB,CAAuBC,MAAvB,GAAgC,KAAhC;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,QAAIC,WAAW,GAAGxB,SAAS,CAACA,SAAV,CAAoBwB,WAAtC;;AACA,QAAIA,WAAW,IAAI,CAAnB,EAAsB;AAClB,WAAKhB,iBAAL,CAAuBiB,WAAvB,GAAqC,KAAKf,eAAL,CAAqB,CAArB,CAArC;AACH,KAFD,MAEO;AACH,WAAKF,iBAAL,CAAuBiB,WAAvB,GAAqC,KAAKf,eAAL,CAAqB,CAArB,CAArC;AACH;;AAAA;AACD,SAAKgB,YAAL;AACH,GAxBI;AAyBL;AACAA,EAAAA,YA1BK,0BA0BU;AACXxB,IAAAA,EAAE,CAACyB,KAAH,CAAS,KAAKrB,YAAd,EACKsB,EADL,CACQ,GADR,EACa;AAAER,MAAAA,MAAM,EAAE;AAAV,KADb,EAC4B;AAAES,MAAAA,MAAM,EAAE;AAAV,KAD5B,EAEKC,KAFL;AAGH,GA9BI;AA+BL;AACAC,EAAAA,sBAhCK,oCAgCoB;AACrB,SAAKZ,aAAL,CAAmBa,iBAAnB,CAAqC,cAArC;AACA,QAAIR,WAAW,GAAGxB,SAAS,CAACA,SAAV,CAAoBwB,WAAtC;;AACA,QAAIA,WAAW,IAAI,CAAnB,EAAsB;AAClB;AACAxB,MAAAA,SAAS,CAACA,SAAV,CAAoBwB,WAApB,GAAkC,CAAlC;AACA,WAAKhB,iBAAL,CAAuBiB,WAAvB,GAAqC,KAAKf,eAAL,CAAqB,CAArB,CAArC;AACA,WAAKS,aAAL,CAAmBc,eAAnB;AAEH,KAND,MAMO;AACH;AACAjC,MAAAA,SAAS,CAACA,SAAV,CAAoBwB,WAApB,GAAkC,CAAlC;AACA,WAAKhB,iBAAL,CAAuBiB,WAAvB,GAAqC,KAAKf,eAAL,CAAqB,CAArB,CAArC;AACA,WAAKS,aAAL,CAAmBe,gBAAnB;AACA,WAAKf,aAAL,CAAmBgB,aAAnB,CAAiC,SAAjC;AACH;;AAAA;AAEJ,GAjDI;AAkDL;AACAC,EAAAA,gBAnDK,8BAmDc;AACf,SAAKjB,aAAL,CAAmBa,iBAAnB,CAAqC,cAArC;AACA,SAAKpB,YAAL,CAAkBS,IAAlB,CAAuBC,MAAvB,GAAgC,IAAhC;AACA,SAAKC,WAAL;AACA,SAAKX,YAAL,CAAkByB,QAAlB,GAA6B,KAAKd,WAAL,GAAmB,EAAhD;;AACA,QAAI,KAAKX,YAAL,CAAkByB,QAAlB,IAA8B,CAAlC,EAAqC;AACjC,UAAIC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,IAAgC,CAAjD;AACA,WAAKlB,WAAL,GAAmB,CAAnB;AACA,WAAKX,YAAL,CAAkByB,QAAlB,GAA6B,KAAKd,WAAL,GAAmB,EAAhD;;AACA,WAAK,IAAImB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,UAApB,EAAgCI,CAAC,EAAjC,EAAqC;AACjC,aAAK3B,aAAL,CAAmB4B,kBAAnB,CAAsC,KAAKrC,YAA3C,EAAyDoC,CAAzD,EAA2D,CAA3D;AACH;;AAAA;AACJ;;AAAA;AACJ,GAhEI;AAiEL;AACAE,EAAAA,sBAlEK,oCAkEoB;AACrB,SAAKzB,aAAL,CAAmBa,iBAAnB,CAAqC,cAArC;AACA,SAAKjB,aAAL,CAAmB8B,gBAAnB;AACA,SAAKC,UAAL;AACH,GAtEI;AAuEL;AACAA,EAAAA,UAxEK,wBAwEQ;AACT,SAAK3B,aAAL,CAAmBa,iBAAnB,CAAqC,aAArC;AACA,SAAKjB,aAAL,CAAmBgC,YAAnB,CAAgC,KAAK1B,IAArC;AACH,GA3EI;AA4EL;AAEAS,EAAAA,KA9EK,mBA8EG,CAEP,CAhFI,CAkFL;;AAlFK,CAAT","sourceRoot":"/","sourcesContent":["var user_data = require(\"user_data\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        grandPa_node: cc.Node,\r\n        sound_node_sprite: cc.Sprite,\r\n        sound_frame_arr: [cc.SpriteFrame],\r\n        progress_bar: cc.ProgressBar,\r\n    },\r\n    //初始化节点\r\n    ini_node() {\r\n        this.game_scene_js = cc.find(\"UI_ROOT\").getComponent(\"game_scene\");\r\n        this.ad_control = cc.find(\"ad_control\").getComponent(\"ad_control\");\r\n        this.sound_control = cc.find(\"sound_control\").getComponent(\"sound_control\");\r\n        this.grandPa_node.scaleY = 0;\r\n        this.progress_bar.node.active = false;\r\n        this.click_count = 0;\r\n        var sound_state = user_data.user_data.sound_state;\r\n        if (sound_state == 1) {\r\n            this.sound_node_sprite.spriteFrame = this.sound_frame_arr[0];\r\n        } else {\r\n            this.sound_node_sprite.spriteFrame = this.sound_frame_arr[1];\r\n        };\r\n        this.grandPa_anim();\r\n    },\r\n    //grandPa anim\r\n    grandPa_anim() {\r\n        cc.tween(this.grandPa_node)\r\n            .to(0.3, { scaleY: 1 }, { easing: \"elasticOut\" })\r\n            .start();\r\n    },\r\n    //当音频按钮被点击\r\n    on_sounde_button_click() {\r\n        this.sound_control.play_sound_effect(\"button_click\");\r\n        var sound_state = user_data.user_data.sound_state;\r\n        if (sound_state == 1) {\r\n            //关闭声音\r\n            user_data.user_data.sound_state = 0;\r\n            this.sound_node_sprite.spriteFrame = this.sound_frame_arr[1];\r\n            this.sound_control.pause_all_sound();\r\n\r\n        } else {\r\n            //开启声音\r\n            user_data.user_data.sound_state = 1;\r\n            this.sound_node_sprite.spriteFrame = this.sound_frame_arr[0];\r\n            this.sound_control.resume_all_sound();\r\n            this.sound_control.play_bg_sound(\"home_bg\");\r\n        };\r\n\r\n    },\r\n    //爷爷被点击\r\n    on_grandPa_click() {\r\n        this.sound_control.play_sound_effect(\"button_click\");\r\n        this.progress_bar.node.active = true;\r\n        this.click_count++;\r\n        this.progress_bar.progress = this.click_count / 10;\r\n        if (this.progress_bar.progress == 1) {\r\n            var random_num = Math.floor(Math.random() * 5) + 1;\r\n            this.click_count = 0;\r\n            this.progress_bar.progress = this.click_count / 10;\r\n            for (var i = 0; i < random_num; i++) {\r\n                this.game_scene_js.create_gold_effect(this.grandPa_node, i,1);\r\n            };\r\n        };\r\n    },\r\n    //新手引导按钮被点击\r\n    on_novice_button_click() {\r\n        this.sound_control.play_sound_effect(\"button_click\");\r\n        this.game_scene_js.create_novice_ui();\r\n        this.touch_exit();\r\n    },\r\n    //点击退出\r\n    touch_exit() {\r\n        this.sound_control.play_sound_effect(\"button_exit\");\r\n        this.game_scene_js.on_node_kill(this.node);\r\n    },\r\n    // onLoad () {},\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}
{"version":3,"sources":["assets\\script\\ui\\option_ui.js"],"names":["user_data","require","cc","Class","Component","properties","grandPa_node","Node","sound_node_sprite","Sprite","sound_frame_arr","SpriteFrame","progress_bar","ProgressBar","ini_node","game_scene_js","find","getComponent","ad_control","sound_control","show_bannerAd","scaleY","node","active","click_count","sound_state","spriteFrame","grandPa_anim","tween","to","easing","start","on_sounde_button_click","play_sound_effect","pause_all_sound","resume_all_sound","play_bg_sound","on_grandPa_click","progress","random_num","Math","floor","random","i","create_gold_effect","on_novice_button_click","create_novice_ui","touch_exit","hide_bannerAd","on_node_kill"],"mappings":"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","sourceRoot":"/","sourcesContent":["var user_data = require(\"user_data\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        grandPa_node: cc.Node,\r\n        sound_node_sprite: cc.Sprite,\r\n        sound_frame_arr: [cc.SpriteFrame],\r\n        progress_bar: cc.ProgressBar,\r\n    },\r\n    //初始化节点\r\n    ini_node() {\r\n        this.game_scene_js = cc.find(\"UI_ROOT\").getComponent(\"game_scene\");\r\n        this.ad_control = cc.find(\"ad_control\").getComponent(\"ad_control\");\r\n        this.sound_control = cc.find(\"sound_control\").getComponent(\"sound_control\");\r\n        this.ad_control.show_bannerAd();\r\n        this.grandPa_node.scaleY = 0;\r\n        this.progress_bar.node.active = false;\r\n        this.click_count = 0;\r\n        var sound_state = user_data.user_data.sound_state;\r\n        if (sound_state == 1) {\r\n            this.sound_node_sprite.spriteFrame = this.sound_frame_arr[0];\r\n        } else {\r\n            this.sound_node_sprite.spriteFrame = this.sound_frame_arr[1];\r\n        };\r\n        this.grandPa_anim();\r\n    },\r\n    //grandPa anim\r\n    grandPa_anim() {\r\n        cc.tween(this.grandPa_node)\r\n            .to(0.3, { scaleY: 1 }, { easing: \"elasticOut\" })\r\n            .start();\r\n    },\r\n    //当音频按钮被点击\r\n    on_sounde_button_click() {\r\n        this.sound_control.play_sound_effect(\"button_click\");\r\n        var sound_state = user_data.user_data.sound_state;\r\n        if (sound_state == 1) {\r\n            //关闭声音\r\n            user_data.user_data.sound_state = 0;\r\n            this.sound_node_sprite.spriteFrame = this.sound_frame_arr[1];\r\n            this.sound_control.pause_all_sound();\r\n\r\n        } else {\r\n            //开启声音\r\n            user_data.user_data.sound_state = 1;\r\n            this.sound_node_sprite.spriteFrame = this.sound_frame_arr[0];\r\n            this.sound_control.resume_all_sound();\r\n            this.sound_control.play_bg_sound(\"home_bg\");\r\n        };\r\n\r\n    },\r\n    //爷爷被点击\r\n    on_grandPa_click() {\r\n        this.sound_control.play_sound_effect(\"button_click\");\r\n        this.progress_bar.node.active = true;\r\n        this.click_count++;\r\n        this.progress_bar.progress = this.click_count / 10;\r\n        if (this.progress_bar.progress == 1) {\r\n            var random_num = Math.floor(Math.random() * 5) + 1;\r\n            this.click_count = 0;\r\n            this.progress_bar.progress = this.click_count / 10;\r\n            for (var i = 0; i < random_num; i++) {\r\n                this.game_scene_js.create_gold_effect(this.grandPa_node, i,1);\r\n            };\r\n        };\r\n    },\r\n    //新手引导按钮被点击\r\n    on_novice_button_click() {\r\n        this.sound_control.play_sound_effect(\"button_click\");\r\n        this.game_scene_js.create_novice_ui();\r\n        this.touch_exit();\r\n    },\r\n    //点击退出\r\n    touch_exit() {\r\n        this.sound_control.play_sound_effect(\"button_exit\");\r\n        this.ad_control.hide_bannerAd();\r\n        this.game_scene_js.on_node_kill(this.node);\r\n    },\r\n    // onLoad () {},\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}
{"version":3,"sources":["assets\\script\\ui\\shop_buy_ui.js"],"names":["cc","Class","Component","properties","icon_sprite","Sprite","introduce_label","Label","introduce1_label","introduce2_label","introduce3_label","introduce4_label","buy_button","Button","cost_label","price_difference_label","have_icon","Node","star4_icon","ini_node","type","index","icon_frame","sound_control","find","getComponent","ad_control","game_scene_js","game_rules_js","ad_car","node","active","update_node","create_ad_car","spriteFrame","level","user_data","config","land","need_level","string","have","price_difference","cost","gold","interactable","plant","introduce","sell","grow_time","exp","on_buy_button_click","play_sound_effect","add_gold","create_tips_ui","updata_land","update_schedule","callback","schedule","touch_exit","log","destroy","hide_bannerAd","on_node_kill","all_capacity","skill","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["import user_data from \"user_data\";\r\nimport config from \"config\";\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        icon_sprite: cc.Sprite,\r\n        introduce_label: cc.Label,\r\n        introduce1_label: cc.Label,\r\n        introduce2_label: cc.Label,\r\n        introduce3_label: cc.Label,\r\n        introduce4_label: cc.Label,\r\n        buy_button: cc.Button,\r\n        cost_label: cc.Label,\r\n        price_difference_label: cc.Label,\r\n        have_icon: cc.Node,\r\n        star4_icon: cc.Node,\r\n    },\r\n    ini_node(type, index, icon_frame) {\r\n        this.type = type;\r\n        this.index = index;\r\n        this.icon_frame = icon_frame;\r\n        this.sound_control = cc.find(\"sound_control\").getComponent(\"sound_control\");\r\n        this.ad_control = cc.find(\"ad_control\").getComponent(\"ad_control\");\r\n        this.game_scene_js = cc.find(\"UI_ROOT\").getComponent(\"game_scene\");\r\n        this.game_rules_js = cc.find(\"UI_ROOT\").getComponent(\"game_rules\");\r\n        this.ad_car = null;\r\n        //默认状态\r\n        this.price_difference_label.node.active = true;\r\n        this.buy_button.node.active = true;\r\n        this.update_node();\r\n        this.create_ad_car();\r\n    },\r\n    update_node() {\r\n        this.icon_sprite.spriteFrame = this.icon_frame;\r\n        var level = user_data.user_data.level;\r\n        switch (this.type) {\r\n            case \"land\":\r\n                this.introduce4_label.node.active=false;\r\n                this.star4_icon.active=false;\r\n                if (level >= config.land[this.index].need_level) {\r\n                    //达到解锁条件\r\n                    this.introduce_label.string = \"Additional planting area\";\r\n                    this.introduce1_label.string = \"More area to planting\";\r\n                    this.introduce2_label.string = \"Remember to water\";\r\n                    this.introduce3_label.string =  \"Level \"+config.land[this.index].need_level +\" unlock\";\r\n                    if (user_data.user_data.land[this.index].have == 0) {\r\n                        //未拥有\r\n                        this.price_difference = config.land[this.index].cost - user_data.user_data.gold;\r\n                        this.cost_label.string = config.land[this.index].cost;\r\n                        this.have_icon.active = false;\r\n                        if (user_data.user_data.gold >= config.land[this.index].cost) {\r\n                            //金币足够\r\n                            this.buy_button.interactable = true;\r\n                            this.price_difference_label.node.active = false;\r\n                        } else {\r\n                            //金币不足\r\n                            this.buy_button.interactable = false;\r\n                            this.price_difference_label.string = \"Not enough gold coins, not enough\" + this.price_difference;\r\n                        };\r\n                    } else {\r\n                        //已拥有\r\n                        this.have_icon.active = true;\r\n                        this.buy_button.node.active = false;\r\n                        this.price_difference_label.node.active = false;\r\n                    };\r\n                } else {\r\n                    //未达到解锁条件\r\n                    this.introduce_label.string = \"???\";\r\n                    this.introduce1_label.string = \"???\";\r\n                    this.introduce2_label.string = \"???\";\r\n                    this.introduce3_label.string = \"Level \"+config.land[this.index].need_level +\" unlock\";\r\n                    this.price_difference_label.node.active = false;\r\n                    this.cost_label.string = \"???\";\r\n                    this.buy_button.interactable = false;\r\n                    this.have_icon.active = false;\r\n                };\r\n\r\n                break;\r\n            case \"plant\":\r\n                this.introduce4_label.node.active=true;\r\n                this.star4_icon.active=true;\r\n                if (level >= config.plant[this.index].need_level) {\r\n                    //达到解锁条件\r\n                    this.introduce_label.string = config.plant[this.index].introduce;\r\n                    this.introduce1_label.string = \"Sale value: \" + config.plant[this.index].sell;\r\n                    this.introduce2_label.string = \"Livespan: \" + config.plant[this.index].grow_time + \"second\";\r\n                    this.introduce3_label.string = \"Experience: \" + config.plant[this.index].exp;\r\n                    this.introduce4_label.string = \"Level \"+config.plant[this.index].need_level+\" unlock\";\r\n                    if (user_data.user_data.plant[this.index].have == 0) { \r\n                        //未拥有\r\n                        this.price_difference = config.plant[this.index].cost - user_data.user_data.gold;\r\n                        this.cost_label.string = config.plant[this.index].cost;\r\n                        this.have_icon.active = false;\r\n                        if (user_data.user_data.gold >= config.plant[this.index].cost) {\r\n                            //金币足够\r\n                            this.buy_button.interactable = true;\r\n                            this.price_difference_label.node.active = false;\r\n                        } else {\r\n                            //金币不足\r\n                            this.buy_button.interactable = false;\r\n                            this.price_difference_label.string = \"Not enough gold coins, not enough\" + this.price_difference;\r\n                        };\r\n                    } else {\r\n                        //已拥有\r\n                        this.have_icon.active = true;\r\n                        this.buy_button.node.active = false;\r\n                        this.price_difference_label.node.active = false;\r\n                    };\r\n                } else {\r\n                    //未达到解锁条件\r\n                    this.introduce_label.string = \"???\";\r\n                    this.introduce1_label.string = \"???\";\r\n                    this.introduce2_label.string = \"???\";\r\n                    this.introduce3_label.string = \"???\";\r\n                    this.introduce4_label.string = \"Level \"+config.plant[this.index].need_level+\" unlock\";\r\n                    this.price_difference_label.node.active = false;\r\n                    this.cost_label.string = \"???\";\r\n                    this.buy_button.interactable = false;\r\n                    this.have_icon.active = false;\r\n                };\r\n                break;\r\n        };\r\n    },\r\n    //购买按钮被点击\r\n    on_buy_button_click() {\r\n        switch (this.type) {\r\n            case \"land\":\r\n                if (user_data.user_data.land[this.index].have == 1) {\r\n                    return;\r\n                } else {\r\n                    //judge money\r\n                    if (user_data.user_data.gold >= config.land[this.index].cost) {\r\n                        //金币足够\r\n                        this.sound_control.play_sound_effect(\"button_click\");\r\n                        var cost = config.land[this.index].cost;\r\n                        this.game_rules_js.add_gold(-cost);\r\n                        user_data.user_data.land[this.index].have = 1;\r\n                        this.game_scene_js.create_tips_ui(this.game_scene_js.node, \"buy_succes\");\r\n                        //刷新土地\r\n                        this.game_rules_js.updata_land(this.index);\r\n                    } else {\r\n                        //金币不足\r\n                        this.sound_control.play_sound_effect(\"un_click\");\r\n                        this.game_scene_js.create_tips_ui(this.game_scene_js.node, \"no_money\");\r\n                    };\r\n                };\r\n                break;\r\n            case \"plant\":\r\n                if (user_data.user_data.plant[this.index].have == 1) {\r\n                    return;\r\n                } else {\r\n                    //judge money\r\n                    if (user_data.user_data.gold >= config.plant[this.index].cost) {\r\n                        //金币足够\r\n                        this.sound_control.play_sound_effect(\"button_click\");\r\n                        var cost = config.plant[this.index].cost;\r\n                        this.game_rules_js.add_gold(-cost);\r\n                        user_data.user_data.plant[this.index].have = 1;\r\n                        this.game_scene_js.create_tips_ui(this.game_scene_js.node, \"buy_succes\");\r\n                    } else {\r\n                        //金币不足\r\n                        this.sound_control.play_sound_effect(\"un_click\");\r\n                        this.game_scene_js.create_tips_ui(this.game_scene_js.node, \"no_money\");\r\n\r\n                    };\r\n                };\r\n                break;\r\n        };\r\n        this.update_node();\r\n    },\r\n    //更新schedule\r\n    update_schedule() {\r\n        var callback = function () {\r\n            this.update_node();\r\n        };\r\n        this.schedule(callback, 1)\r\n    },\r\n    //touch exit\r\n    touch_exit() {\r\n        this.sound_control.play_sound_effect(\"button_exit\");\r\n        if (this.ad_car !== null) {\r\n            cc.log(\"ad_car destroy\")\r\n            this.ad_car.destroy();\r\n        };\r\n        this.ad_control.hide_bannerAd();\r\n        this.game_scene_js.on_node_kill(this.node);\r\n    },\r\n    create_ad_car() {\r\n        switch (this.type) {\r\n            case \"land\":\r\n                if (user_data.user_data.land[this.index].have != 1) {\r\n                    //未拥有这块地\r\n                    var gold = user_data.user_data.gold;\r\n                    var all_capacity = 500 * user_data.user_data.skill[\"gold_max\"] + 500;\r\n                    var cost = config.land[this.index].cost;\r\n                    //差价\r\n                    var price_difference = cost - gold;\r\n                    //大于4/5,且能够拥有，且金币不足\r\n                    if (gold >= cost * (4 / 5) && all_capacity >= cost && gold < cost) {\r\n                        this.ad_control.hide_bannerAd();\r\n                        this.ad_car = this.game_scene_js.create_ad_car(this.node, price_difference);\r\n                    } else {\r\n\r\n                    };\r\n                } else {\r\n                    //拥有这块地\r\n\r\n                    return;\r\n                }\r\n                break;\r\n            case \"plant\":\r\n                if (user_data.user_data.plant[this.index].have != 1) {\r\n                    //未拥有这个植物\r\n                    var gold = user_data.user_data.gold;\r\n                    var all_capacity = 500 * user_data.user_data.skill[\"gold_max\"] + 500;\r\n                    var cost = config.plant[this.index].cost;\r\n                    //差价\r\n                    var price_difference = cost - gold;\r\n                    //大于4/5,且能够拥有，且金币不足\r\n                    if (gold >= cost * (4 / 5) && all_capacity >= cost && gold < cost) {\r\n                        this.ad_control.hide_bannerAd();\r\n                        this.ad_car = this.game_scene_js.create_ad_car(this.node, price_difference);\r\n                    } else {\r\n\r\n                    };\r\n                } else {\r\n                    //拥有这个植物\r\n                    return;\r\n                }\r\n                break;\r\n        };\r\n\r\n\r\n    },\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.update_schedule();\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}
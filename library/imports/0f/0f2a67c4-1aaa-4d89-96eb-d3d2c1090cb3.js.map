{"version":3,"sources":["assets\\script\\ui\\button_more.js"],"names":["user_data","require","cc","Class","Component","properties","frame_arr","type","SpriteFrame","group_node","Node","ini_node","game_scene_js","find","getComponent","sound_control","land_group","ad_control","show_bannerAd","button_type","set_button_frame","set_button_position","i","children","length","land","have","active","getChildByName","Sprite","spriteFrame","setPosition","position","x","y","on_touch_exit_button_click","play_sound_effect","hide_bannerAd","on_node_kill","node","on_button_click","e","land_index","water_charge","till","land_state","create_plant_ui","onLoad","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["var user_data = require(\"user_data\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        frame_arr: {\r\n            default: [],\r\n            type: cc.SpriteFrame,\r\n        },\r\n        group_node: cc.Node,\r\n    },\r\n\r\n    //初始化按钮\r\n    ini_node: function (type) {\r\n        this.game_scene_js = cc.find(\"UI_ROOT\").getComponent(\"game_scene\");\r\n        this.sound_control = cc.find(\"sound_control\").getComponent(\"sound_control\");\r\n        this.land_group = cc.find(\"UI_ROOT/center/land_group\");\r\n        this.ad_control = cc.find(\"ad_control\").getComponent(\"ad_control\");\r\n        this.ad_control.show_bannerAd();\r\n        this.button_type = type;\r\n        this.set_button_frame();\r\n        this.set_button_position();\r\n    },\r\n    //设置按钮的图片样式\r\n    set_button_frame: function () {\r\n        switch (this.button_type) {\r\n            case \"watering\":\r\n                for (var i = 0; i < this.land_group.children.length; i++) {\r\n                    if (user_data.user_data.land[i].have == 1) {\r\n                        this.group_node.children[i].active = true;\r\n                        this.group_node.children[i].getChildByName(\"button_icon\").getComponent(cc.Sprite).spriteFrame = this.frame_arr[1];\r\n                    };\r\n                };\r\n                break;\r\n            case \"till\":    \r\n                for (var i = 0; i < this.land_group.children.length; i++) {\r\n                    if (user_data.user_data.land[i].have == 1) {\r\n                        this.group_node.children[i].active = true;\r\n                        this.group_node.children[i].getChildByName(\"button_icon\").getComponent(cc.Sprite).spriteFrame = this.frame_arr[2];\r\n                    };\r\n                };\r\n                break;\r\n            case \"plant\":\r\n                for (var i = 0; i < this.land_group.children.length; i++) {\r\n                    if (user_data.user_data.land[i].have == 1) {\r\n                        this.group_node.children[i].active = true;\r\n                        this.group_node.children[i].getChildByName(\"button_icon\").getComponent(cc.Sprite).spriteFrame = this.frame_arr[0];\r\n                    };\r\n                };\r\n                break;\r\n        };\r\n    },\r\n\r\n    //设置按钮位置\r\n    set_button_position: function () {\r\n        for (var i = 0; i < this.land_group.children.length; i++) {\r\n            this.group_node.children[i].setPosition(this.land_group.children[i].position.x, this.land_group.children[i].position.y + 16);\r\n        };\r\n    },\r\n    //touch exit\r\n    on_touch_exit_button_click: function () {\r\n        this.sound_control.play_sound_effect(\"button_exit\");\r\n        this.ad_control.hide_bannerAd();\r\n        this.game_scene_js.on_node_kill(this.node);\r\n    },\r\n\r\n    //当按钮被点击\r\n    on_button_click: function (e, land_index) {\r\n        this.sound_control.play_sound_effect(\"button_click\");\r\n        this.ad_control.hide_bannerAd();\r\n        switch (this.button_type) {\r\n            case \"watering\":\r\n                this.land_group.children[land_index].getComponent(\"land\").water_charge();\r\n                // console.log(\"hello land \"+land_index);\r\n                break;\r\n            case \"till\":\r\n                this.land_group.children[land_index].getComponent(\"land\").till();\r\n                user_data.user_data.land[land_index].land_state=\"wait_plant\";\r\n                // console.log(\"hello land \"+land_index  + \" \"+ user_data.user_data.land[land_index].land_state + \" till\");\r\n                break;\r\n            case \"plant\":\r\n                var node = this.game_scene_js.create_plant_ui(this.game_scene_js.node);\r\n                if (node != null) {\r\n                    node.getComponent(\"plant_ui\").ini_node(land_index);\r\n                };\r\n                break;\r\n        };\r\n        this.game_scene_js.on_node_kill(this.node);\r\n    },\r\n    onLoad() {\r\n\r\n\r\n    },\r\n    start() {\r\n        \r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}
{"version":3,"sources":["assets\\script\\game_scene.js"],"names":["user_data","require","cc","Class","Component","properties","button_group_prefab","Prefab","plant_ui_prefab","sell_ui_prefab","tips_ui_prefab","light_effect_prefab","study_ui_prefab","staff_ui_prefab","offline_profit_ui_prefab","pet_ui_prefab","ad_car_prefab","button_tips_prefab","rest_ui_prefab","pet_prefab_arr","ex_effect_prefab","gift_ui_prefab","option_ui_prefab","gold_effect_prefab","novice_ui_prefab","hotel_ui_prefab","shop_ui_prefab","shop_buy_ui_prefab","videotape_ui_prefab","new_button_group_node_pool","button_more_node_pool","NodePool","node","instantiate","put","new_plant_ui_node_pool","new_videotape_ui_pool","new_sell_ui_node_pool","new_tips_ui_node_pool","count","i","new_light_effect_pool","new_study_ui_pool","new_staff_ui_pool","new_pet_ui_pool","new_ex_effect_pool","new_gold_effect_pool","new_option_ui_pool","new_hotel_ui_pool","new_shop_ui_pool","new_shop_buy_ui_pool","create_button_group","parentNode","size","get","parent","create_plant_ui","create_sell_ui","create_tips_ui","type","num","getComponent","ini_node","create_study_ui","create_staff_ui","create_offline_profit_ui","create_pet_ui","create_ad_car","price_difference","create_button_tips","position_target","x","active","create_rest_ui","staff_index","create_gift_ui","create_pet","index","create_option_ui","create_novice_ui","create_hotel_ui","create_shop_buy_ui","spriteFrame","create_shop_ui","create_videotape_ui","create_ex_effect","create_node","level_icon","find","c_Wpos","convertToWorldSpaceAR","position","c_nPos","convertToNodeSpaceAR","t_Wpos","t_Npos","tween","to","easing","call","sound_control","play_sound_effect","game_rules_js","add_ex","on_node_kill","start","create_light_effect","plant_index","sell","delay","all_capacity","wareHouse_level","config","wareHouse","have","id_product","create_gold_effect","addGold","gold_icon","y","add_gold","name","onLoad"],"mappings":"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","sourceRoot":"/","sourcesContent":["var user_data = require(\"user_data\");\r\nimport config from \"config\";\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        button_group_prefab: cc.Prefab,\r\n        plant_ui_prefab: cc.Prefab,\r\n        sell_ui_prefab: cc.Prefab,\r\n        tips_ui_prefab: cc.Prefab,\r\n        light_effect_prefab: cc.Prefab,\r\n        study_ui_prefab: cc.Prefab,\r\n        staff_ui_prefab: cc.Prefab,\r\n        offline_profit_ui_prefab: cc.Prefab,\r\n        pet_ui_prefab: cc.Prefab,\r\n        ad_car_prefab: cc.Prefab,\r\n        button_tips_prefab: cc.Prefab,\r\n        rest_ui_prefab: cc.Prefab,\r\n        pet_prefab_arr: [cc.Prefab],\r\n        ex_effect_prefab: cc.Prefab,\r\n        gift_ui_prefab: cc.Prefab,\r\n        option_ui_prefab: cc.Prefab,\r\n        gold_effect_prefab: cc.Prefab,\r\n        novice_ui_prefab: cc.Prefab,\r\n        hotel_ui_prefab: cc.Prefab,\r\n        shop_ui_prefab: cc.Prefab,\r\n        shop_buy_ui_prefab: cc.Prefab,\r\n        videotape_ui_prefab: cc.Prefab,\r\n    },\r\n\r\n    //创建按钮组的节点池\r\n    new_button_group_node_pool: function () {\r\n        this.button_more_node_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.button_group_prefab);\r\n        this.button_more_node_pool.put(node);\r\n    },\r\n    //\r\n    new_plant_ui_node_pool: function () {\r\n        this.new_plant_ui_node_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.plant_ui_prefab);\r\n        this.new_plant_ui_node_pool.put(node);\r\n    },\r\n    new_videotape_ui_pool: function () {\r\n        this.new_videotape_ui_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.videotape_ui_prefab);\r\n        this.new_videotape_ui_pool.put(node);\r\n    },\r\n    new_sell_ui_node_pool: function () {\r\n        this.new_sell_ui_node_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.sell_ui_prefab);\r\n        this.new_sell_ui_node_pool.put(node);\r\n    },\r\n    new_tips_ui_node_pool: function () {\r\n        var count = 5;\r\n        this.new_tips_ui_node_pool = new cc.NodePool();\r\n        for (var i = 0; i < count; i++) {\r\n            var node = cc.instantiate(this.tips_ui_prefab);\r\n            this.new_tips_ui_node_pool.put(node);\r\n        };\r\n    },\r\n    new_light_effect_pool: function () {\r\n        var count = 8;\r\n        this.new_light_effect_pool = new cc.NodePool();\r\n        for (var i = 0; i < count; i++) {\r\n            var node = cc.instantiate(this.light_effect_prefab);\r\n            this.new_light_effect_pool.put(node);\r\n        };\r\n    },\r\n    new_study_ui_pool: function () {\r\n        this.new_study_ui_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.study_ui_prefab);\r\n        this.new_study_ui_pool.put(node);\r\n    },\r\n    new_staff_ui_pool: function () {\r\n        this.new_staff_ui_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.staff_ui_prefab);\r\n        this.new_staff_ui_pool.put(node);\r\n    },\r\n    new_pet_ui_pool: function () {\r\n        this.new_pet_ui_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.pet_ui_prefab);\r\n        this.new_pet_ui_pool.put(node);\r\n    },\r\n    new_ex_effect_pool() {\r\n        this.new_ex_effect_pool = new cc.NodePool();\r\n        for (var i = 0; i < 10; i++) {\r\n            var node = cc.instantiate(this.ex_effect_prefab);\r\n            this.new_ex_effect_pool.put(node);\r\n        };\r\n    },\r\n    new_gold_effect_pool() {\r\n        this.new_gold_effect_pool = new cc.NodePool();\r\n        for (var i = 0; i < 10; i++) {\r\n            var node = cc.instantiate(this.gold_effect_prefab);\r\n            this.new_gold_effect_pool.put(node);\r\n        };\r\n    },\r\n    new_option_ui_pool() {\r\n        this.new_option_ui_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.option_ui_prefab);\r\n        this.new_option_ui_pool.put(node);\r\n    },\r\n    new_hotel_ui_pool() {\r\n        this.new_hotel_ui_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.hotel_ui_prefab);\r\n        this.new_hotel_ui_pool.put(node);\r\n    },\r\n    new_shop_ui_pool() {\r\n        this.new_shop_ui_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.shop_ui_prefab);\r\n        this.new_shop_ui_pool.put(node);\r\n    },\r\n    new_shop_buy_ui_pool() {\r\n        this.new_shop_buy_ui_pool = new cc.NodePool();\r\n        var node = cc.instantiate(this.shop_buy_ui_prefab);\r\n        this.new_shop_buy_ui_pool.put(node);\r\n    },\r\n    //\r\n    //==================================================================\r\n    //创建按钮组\r\n    create_button_group: function (parentNode) {\r\n        var node = null;\r\n        if (this.button_more_node_pool.size() > 0) {\r\n            node = this.button_more_node_pool.get();\r\n            node.parent = parentNode;\r\n        } else {\r\n            return;\r\n        };\r\n        return node;\r\n    },\r\n    create_plant_ui: function (parentNode) {\r\n        var node = null;\r\n        if (this.new_plant_ui_node_pool.size() > 0) {\r\n            node = this.new_plant_ui_node_pool.get();\r\n            node.parent = parentNode;\r\n        } else {\r\n            return;\r\n        };\r\n        return node;\r\n    },\r\n    create_sell_ui: function (parentNode) {\r\n        var node = null;\r\n        if (this.new_sell_ui_node_pool.size() > 0) {\r\n            node = this.new_sell_ui_node_pool.get();\r\n            node.parent = parentNode;\r\n        } else {\r\n            return;\r\n        };\r\n        return node;\r\n    },\r\n    create_tips_ui: function (parentNode, type, num) {\r\n        var node = null;\r\n        if (this.new_tips_ui_node_pool.size() > 0) {\r\n            node = this.new_tips_ui_node_pool.get();\r\n            node.parent = parentNode;\r\n            node.getComponent(\"tips_ui\").ini_node(type, num);\r\n        } else {\r\n            return;\r\n        };\r\n    },\r\n    create_study_ui: function (parentNode) {\r\n        var node = null;\r\n        if (this.new_study_ui_pool.size() > 0) {\r\n            node = this.new_study_ui_pool.get();\r\n            node.parent = parentNode;\r\n        } else {\r\n            return;\r\n        };\r\n        return node;\r\n    },\r\n    create_staff_ui: function (parentNode) {\r\n        var node = null;\r\n        if (this.new_staff_ui_pool.size() > 0) {\r\n            node = this.new_staff_ui_pool.get();\r\n            node.parent = parentNode;\r\n        } else {\r\n            return;\r\n        };\r\n        return node;\r\n    },\r\n    create_offline_profit_ui: function (parentNode) {\r\n        var node = cc.instantiate(this.offline_profit_ui_prefab);\r\n        node.parent = parentNode;\r\n        node.getComponent(\"offline_profit\").ini_node();\r\n    },\r\n    create_pet_ui: function (parentNode) {\r\n        var node = null;\r\n        if (this.new_pet_ui_pool.size() > 0) {\r\n            node = this.new_pet_ui_pool.get();\r\n            node.parent = parentNode;\r\n        } else {\r\n            return;\r\n        };\r\n        return node;\r\n    },\r\n    create_ad_car(parentNode, price_difference) {\r\n        var node = cc.instantiate(this.ad_car_prefab)\r\n        node.parent = parentNode;\r\n        node.getComponent(\"ad_car\").ini_node(price_difference);\r\n        return node;\r\n    },\r\n    //父节点，提示点类型，目标位置\r\n    create_button_tips(parentNode, position_target) {\r\n        var node = cc.instantiate(this.button_tips_prefab);\r\n        node.parent = parentNode;\r\n        node.x = position_target.x;\r\n        node.active = false;\r\n    },\r\n    create_rest_ui(parentNode, staff_index) {\r\n        var node = cc.instantiate(this.rest_ui_prefab);\r\n        node.parent = parentNode;\r\n        node.getComponent(\"rest_ui\").ini_node(staff_index);\r\n    },\r\n    create_gift_ui(parentNode) {\r\n        var node = cc.instantiate(this.gift_ui_prefab);\r\n        node.parent = parentNode;\r\n        node.getComponent(\"gift_ui\").ini_node();\r\n    },\r\n    create_pet(parentNode, index) {\r\n        var node = cc.instantiate(this.pet_prefab_arr[index]);\r\n        node.parent = parentNode;\r\n    },\r\n    create_option_ui() {\r\n        if (this.new_option_ui_pool.size() > 0) {\r\n            var node = this.new_option_ui_pool.get();\r\n            node.parent = this.node;\r\n            node.getComponent(\"option_ui\").ini_node();\r\n        };\r\n    },\r\n    create_novice_ui() {\r\n        var node = cc.instantiate(this.novice_ui_prefab);\r\n        node.parent = this.node;\r\n        node.getComponent(\"novice_ui\").ini_node();\r\n    },\r\n    create_hotel_ui() {\r\n        if (this.new_hotel_ui_pool.size() > 0) {\r\n            var node = this.new_hotel_ui_pool.get();\r\n            node.parent = this.node;\r\n            node.getComponent(\"hotel_ui\").ini_node();\r\n        };\r\n    },\r\n    create_shop_buy_ui(type, index, spriteFrame) {\r\n        //物品类型，物品编号，物品的图片\r\n        if (this.new_shop_buy_ui_pool.size() > 0) {\r\n            var node = this.new_shop_buy_ui_pool.get();\r\n            node.parent = this.node;\r\n            node.getComponent(\"shop_buy_ui\").ini_node(type, index, spriteFrame);\r\n        };\r\n    },\r\n    create_shop_ui() {\r\n        if (this.new_shop_ui_pool.size() > 0) {\r\n            var node = this.new_shop_ui_pool.get();\r\n            node.parent = this.node;\r\n            node.getComponent(\"shop_ui\").ini_node();\r\n        };\r\n    },\r\n    create_videotape_ui() {\r\n        if (this.new_videotape_ui_pool.size() > 0) {\r\n            var node = this.new_videotape_ui_pool.get();\r\n            node.parent = this.node;\r\n            node.getComponent(\"videotape_ui\").ini_node();\r\n        };\r\n    },\r\n    create_ex_effect(create_node, index) {\r\n\r\n        //在哪个节点进行创建，创建的第几个\r\n        //create_node , index\r\n        var level_icon = cc.find(\"UI_ROOT/top/level/level_icon\");\r\n        //将创建的初始地址 转换为世界坐标\r\n        var c_Wpos = create_node.parent.convertToWorldSpaceAR(create_node.position);\r\n        //转换为需要的相对坐标\r\n        var c_nPos = this.node.convertToNodeSpaceAR(c_Wpos);\r\n\r\n        //将飞往的目标位置转为世界坐标\r\n        var t_Wpos = level_icon.parent.convertToWorldSpaceAR(level_icon.position);\r\n        //将目标位置转为相对位置\r\n        var t_Npos = this.node.convertToNodeSpaceAR(t_Wpos)\r\n\r\n\r\n        if (this.new_ex_effect_pool.size() > 0) {\r\n            var node = this.new_ex_effect_pool.get();\r\n            node.parent = this.node;\r\n            node.position = c_nPos;\r\n            cc.tween(node)\r\n                .to((index + 1) / 5, { position: t_Npos }, { easing: \"sineIn\" })\r\n                .call(() => {\r\n                    this.sound_control.play_sound_effect(\"add_ex\");\r\n                    this.game_rules_js.add_ex(1);\r\n                    this.on_node_kill(node);\r\n                })\r\n                .start();\r\n        };\r\n    },\r\n    //收割特效\r\n    create_light_effect(create_node, index, plant_index) {\r\n        //在哪个节点进行创建，创建的第几个 种子编号\r\n        var sell = cc.find(\"UI_ROOT/center/build/sell\");\r\n        //将创建的初始地址 转换为世界坐标\r\n        var c_Wpos = create_node.parent.convertToWorldSpaceAR(create_node.position);\r\n        //转换为需要的相对坐标\r\n        var c_nPos = this.node.convertToNodeSpaceAR(c_Wpos);\r\n\r\n        //将飞往的目标位置转为世界坐标\r\n        var t_Wpos = sell.parent.convertToWorldSpaceAR(sell.position);\r\n        //将目标位置转为相对位置\r\n        var t_Npos = this.node.convertToNodeSpaceAR(t_Wpos)\r\n\r\n        if (this.new_light_effect_pool.size() > 0) {\r\n            var node = this.new_light_effect_pool.get();\r\n            node.parent = this.node;\r\n            node.position = c_nPos;\r\n            cc.tween(node)\r\n                .delay(1)\r\n                .to((index + 1) / 5, { position: t_Npos }, { easing: \"sineIn\" })\r\n                .call(() => {\r\n                    this.sound_control.play_sound_effect(\"add_ex\");\r\n                    var all_capacity = user_data.user_data.wareHouse_level * config.wareHouse[\"all_capacity\"];\r\n                        for (var i = 0; i < 15; i++) {\r\n                            if (user_data.user_data.wareHouse[i].have == 0) break;      // nếu chưa mở ô thì dừng, k cộng thêm nữa, đã tràn kho\r\n                            else if (user_data.user_data.wareHouse[i].count == 0) {          // nếu là ô trống thì thêm vào\r\n                                user_data.user_data.wareHouse[i].count = 1;\r\n                                user_data.user_data.wareHouse[i].id_product = plant_index;  // gán id cây \r\n                                break;\r\n                            }\r\n                            else if(user_data.user_data.wareHouse[i].count <30 && user_data.user_data.wareHouse[i].id_product== plant_index) // kiểm tra kho cùng loại\r\n                            {\r\n                                user_data.user_data.wareHouse[i].count++;\r\n                                break;\r\n                            }\r\n\r\n                        }\r\n                        // user_data.user_data.wareHouse[plant_index].count++; // thêm vật phẩm vào kho\r\n\r\n\r\n                    // this.game_rules_js.jgg(1);\r\n                    this.on_node_kill(node);\r\n                })\r\n                .start();\r\n        };\r\n        return node;\r\n    },\r\n\r\n    create_gold_effect(create_node, index, addGold) {\r\n        //create node 在哪个节点飞， index 数量 ,num增加的金币数量\r\n        var gold_icon = cc.find(\"UI_ROOT/top/gold/gold_icon\");\r\n        //将创建的初始地址 转换为世界坐标\r\n        var c_Wpos = create_node.parent.convertToWorldSpaceAR(create_node.position);\r\n        //转换为需要的相对坐标\r\n        var c_nPos = this.node.convertToNodeSpaceAR(c_Wpos);\r\n\r\n        //将飞往的目标位置转为世界坐标\r\n        var t_Wpos = gold_icon.parent.convertToWorldSpaceAR(gold_icon.position);\r\n        //将目标位置转为相对位置\r\n        var t_Npos = this.node.convertToNodeSpaceAR(t_Wpos)\r\n\r\n        if (this.new_gold_effect_pool.size() > 0) {\r\n            var node = this.new_gold_effect_pool.get();\r\n            node.parent = this.node;\r\n            node.position = c_nPos;\r\n            node.y += 50;\r\n            cc.tween(node)\r\n                .to((index + 1) / 5, { position: t_Npos }, { easing: \"sineIn\" })\r\n                .call(() => {\r\n                    this.sound_control.play_sound_effect(\"add_gold\");\r\n                    this.game_rules_js.add_gold(addGold);\r\n                    this.on_node_kill(node);\r\n                })\r\n                .start();\r\n        };\r\n\r\n    },\r\n    //节点销毁\r\n    on_node_kill: function (node) {\r\n        switch (node.name) {\r\n            case \"button_more\":\r\n                this.button_more_node_pool.put(node);\r\n                break;\r\n            case \"plant_ui\":\r\n                this.new_plant_ui_node_pool.put(node);\r\n                break;\r\n            case \"sell_ui\":\r\n                this.new_sell_ui_node_pool.put(node);\r\n                break;\r\n            case \"tips_ui\":\r\n                this.new_tips_ui_node_pool.put(node);\r\n                break;\r\n            case \"light\":\r\n                this.new_light_effect_pool.put(node);\r\n                break;\r\n            case \"study_ui\":\r\n                this.new_study_ui_pool.put(node);\r\n                break;\r\n            case \"staff_ui\":\r\n                this.new_staff_ui_pool.put(node);\r\n                break;\r\n            case \"pet_ui\":\r\n                this.new_pet_ui_pool.put(node);\r\n                break;\r\n            case \"ex_effect\":\r\n                this.new_ex_effect_pool.put(node);\r\n                break;\r\n            case \"gold_effect\":\r\n                this.new_gold_effect_pool.put(node);\r\n                break;\r\n            case \"option_ui\":\r\n                this.new_option_ui_pool.put(node);\r\n                break;\r\n            case \"hotel_ui\":\r\n                this.new_hotel_ui_pool.put(node);\r\n                break;\r\n            case \"shop_buy_ui\":\r\n                this.new_shop_buy_ui_pool.put(node);\r\n                break;\r\n            case \"shop_ui\":\r\n                this.new_shop_ui_pool.put(node);\r\n                break;\r\n            case \"videotape_ui\":\r\n                this.new_videotape_ui_pool.put(node);\r\n                break;\r\n            default:\r\n                return;\r\n        };\r\n    },\r\n\r\n    //初始化节点\r\n    ini_node: function () {\r\n        this.new_button_group_node_pool();\r\n        this.new_plant_ui_node_pool();\r\n        this.new_sell_ui_node_pool();\r\n        this.new_tips_ui_node_pool();\r\n        this.new_light_effect_pool();\r\n        this.new_study_ui_pool();\r\n        this.new_staff_ui_pool();\r\n        this.new_pet_ui_pool();\r\n        this.new_ex_effect_pool();\r\n        this.new_option_ui_pool();\r\n        this.new_gold_effect_pool();\r\n        this.new_hotel_ui_pool();\r\n        this.new_shop_buy_ui_pool();\r\n        this.new_shop_ui_pool();\r\n        this.new_videotape_ui_pool();\r\n\r\n    },\r\n    onLoad() {\r\n        this.game_rules_js = cc.find(\"UI_ROOT\").getComponent(\"game_rules\");\r\n        this.sound_control = cc.find(\"sound_control\").getComponent(\"sound_control\");\r\n        this.ini_node();\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}
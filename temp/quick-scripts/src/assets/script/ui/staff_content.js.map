{"version":3,"sources":["assets\\script\\ui\\staff_content.js"],"names":["user_data","require","config","cc","Class","Component","properties","icon_sprite","Sprite","work_time_label","Label","rest_time_label","cost_label","icon_frame_arr","SpriteFrame","buy_button","Node","work_time_buff_label","rest_time_buff_label","employed_button","name_lable","introduce_label","ini_node","staff_index","game_scene_js","find","getComponent","game_rules_js","ad_control","sound_control","update_content","spriteFrame","string","staff","work_time","rest_time","name","introduce","skill","node","active","trader","cost","have","on_buy_button_click","gold","create_staff","play_sound_effect","create_tips_ui","touch_exit","destroy","create_ad_car","all_capacity","price_difference","hide_bannerAd","onLoad","start"],"mappings":";;;;;;AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAApB;;AACAE,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,WAAW,EAAEJ,EAAE,CAACK,MADR;AAERC,IAAAA,eAAe,EAAEN,EAAE,CAACO,KAFZ;AAGRC,IAAAA,eAAe,EAAER,EAAE,CAACO,KAHZ;AAIRE,IAAAA,UAAU,EAAET,EAAE,CAACO,KAJP;AAKRG,IAAAA,cAAc,EAAE,CAACV,EAAE,CAACW,WAAJ,CALR;AAMRC,IAAAA,UAAU,EAAEZ,EAAE,CAACa,IANP;AAORC,IAAAA,oBAAoB,EAAEd,EAAE,CAACO,KAPjB;AAQRQ,IAAAA,oBAAoB,EAAEf,EAAE,CAACO,KARjB;AASRS,IAAAA,eAAe,EAAEhB,EAAE,CAACa,IATZ;AAURI,IAAAA,UAAU,EAAEjB,EAAE,CAACO,KAVP;AAWRW,IAAAA,eAAe,EAAElB,EAAE,CAACO;AAXZ,GAHP;AAgBL;AACAY,EAAAA,QAAQ,EAAE,kBAAUC,WAAV,EAAuB;AAC7B,SAAKC,aAAL,GAAqBrB,EAAE,CAACsB,IAAH,CAAQ,SAAR,EAAmBC,YAAnB,CAAgC,YAAhC,CAArB;AACA,SAAKC,aAAL,GAAqBxB,EAAE,CAACsB,IAAH,CAAQ,SAAR,EAAmBC,YAAnB,CAAgC,YAAhC,CAArB;AACA,SAAKE,UAAL,GAAkBzB,EAAE,CAACsB,IAAH,CAAQ,YAAR,EAAsBC,YAAtB,CAAmC,YAAnC,CAAlB;AACA,SAAKG,aAAL,GAAqB1B,EAAE,CAACsB,IAAH,CAAQ,eAAR,EAAyBC,YAAzB,CAAsC,eAAtC,CAArB;AACA,SAAKH,WAAL,GAAmBA,WAAnB;AACA,SAAKO,cAAL,GAN6B,CAO7B;AACH,GAzBI;AA0BL;AACAA,EAAAA,cA3BK,4BA2BY;AACb,SAAKvB,WAAL,CAAiBwB,WAAjB,GAA+B,KAAKlB,cAAL,CAAoB,KAAKU,WAAzB,CAA/B;AACA,SAAKd,eAAL,CAAqBuB,MAArB,GAA8B,iBAAiB9B,MAAM,CAAC+B,KAAP,CAAa,KAAKV,WAAlB,EAA+BW,SAAhD,GAA4D,SAA1F;AACA,SAAKvB,eAAL,CAAqBqB,MAArB,GAA8B,eAAe9B,MAAM,CAAC+B,KAAP,CAAa,KAAKV,WAAlB,EAA+BY,SAA9C,GAA0D,SAAxF;AACA,SAAKf,UAAL,CAAgBY,MAAhB,GAAyB9B,MAAM,CAAC+B,KAAP,CAAa,KAAKV,WAAlB,EAA+Ba,IAAxD;AACA,SAAKf,eAAL,CAAqBW,MAArB,GAA8B9B,MAAM,CAAC+B,KAAP,CAAa,KAAKV,WAAlB,EAA+Bc,SAA7D,CALa,CAMb;;AACA,QAAIrC,SAAS,CAACA,SAAV,CAAoBsC,KAApB,CAA0B,gBAA1B,KAA+C,CAAnD,EAAsD;AAClD,WAAKrB,oBAAL,CAA0BsB,IAA1B,CAA+BC,MAA/B,GAAwC,KAAxC;AACH,KAFD,MAEO;AACH,WAAKvB,oBAAL,CAA0BsB,IAA1B,CAA+BC,MAA/B,GAAwC,IAAxC;AACA,WAAKvB,oBAAL,CAA0Be,MAA1B,GAAmC,MAAMhC,SAAS,CAACA,SAAV,CAAoBsC,KAApB,CAA0B,gBAA1B,CAAzC;AACH;;AAAA;;AACD,QAAItC,SAAS,CAACA,SAAV,CAAoByC,MAApB,CAA2B,SAA3B,KAAyC,CAA7C,EAAgD;AAC5C,WAAKvB,oBAAL,CAA0BqB,IAA1B,CAA+BC,MAA/B,GAAwC,KAAxC;AACH,KAFD,MAEO;AACH,WAAKtB,oBAAL,CAA0BqB,IAA1B,CAA+BC,MAA/B,GAAwC,IAAxC;AACA,WAAKtB,oBAAL,CAA0Bc,MAA1B,GAAmC,MAAMhC,SAAS,CAACA,SAAV,CAAoByC,MAApB,CAA2B,SAA3B,CAAzC;AACH;;AAAA;AAED,SAAK7B,UAAL,CAAgBoB,MAAhB,GAAyB,UAAU9B,MAAM,CAAC+B,KAAP,CAAa,KAAKV,WAAlB,EAA+BmB,IAAlE;;AACA,QAAI1C,SAAS,CAACA,SAAV,CAAoBiC,KAApB,CAA0B,KAAKV,WAA/B,EAA4CoB,IAA5C,IAAoD,CAAxD,EAA2D;AACvD,WAAK5B,UAAL,CAAgByB,MAAhB,GAAyB,IAAzB;AACA,WAAKrB,eAAL,CAAqBqB,MAArB,GAA8B,KAA9B;AACH,KAHD,MAGO;AACH,WAAKzB,UAAL,CAAgByB,MAAhB,GAAyB,KAAzB;AACA,WAAKrB,eAAL,CAAqBqB,MAArB,GAA8B,IAA9B;AACH;;AAAA;AACJ,GAvDI;AAwDL;AACAI,EAAAA,mBAAmB,EAAE,+BAAY;AAC7B,QAAI5C,SAAS,CAACA,SAAV,CAAoB6C,IAApB,IAA4B3C,MAAM,CAAC+B,KAAP,CAAa,KAAKV,WAAlB,EAA+BmB,IAA/D,EAAqE;AACjE1C,MAAAA,SAAS,CAACA,SAAV,CAAoB6C,IAApB,IAA4B3C,MAAM,CAAC+B,KAAP,CAAa,KAAKV,WAAlB,EAA+BmB,IAA3D;AACA1C,MAAAA,SAAS,CAACA,SAAV,CAAoBiC,KAApB,CAA0B,KAAKV,WAA/B,EAA4CoB,IAA5C,GAAmD,CAAnD;AACA,WAAKhB,aAAL,CAAmBmB,YAAnB,CAAgC,KAAKvB,WAArC;AACA,WAAKR,UAAL,CAAgByB,MAAhB,GAAyB,KAAzB;AACA,WAAKX,aAAL,CAAmBkB,iBAAnB,CAAqC,cAArC;AACA,WAAKjB,cAAL;AACH,KAPD,MAOO;AACH,WAAKD,aAAL,CAAmBkB,iBAAnB,CAAqC,UAArC;AACA,WAAKvB,aAAL,CAAmBwB,cAAnB,CAAkC,KAAKrB,aAAL,CAAmBY,IAArD,EAA2D,eAA3D;AACH;;AAAA;AACJ,GArEI;AAsELU,EAAAA,UAAU,EAAE,sBAAY;AACpB,SAAKpB,aAAL,CAAmBkB,iBAAnB,CAAqC,aAArC;AACA,SAAKR,IAAL,CAAUW,OAAV;AACH,GAzEI;AA0EL;AACAC,EAAAA,aA3EK,2BA2EW;AACZ,QAAInD,SAAS,CAACA,SAAV,CAAoBiC,KAApB,CAA0B,KAAKV,WAA/B,EAA4CoB,IAA5C,IAAoD,CAAxD,EAA2D;AACvD,UAAIE,IAAI,GAAG7C,SAAS,CAACA,SAAV,CAAoB6C,IAA/B;AACA,UAAIO,YAAY,GAAG,MAAMpD,SAAS,CAACA,SAAV,CAAoBsC,KAApB,CAA0B,UAA1B,CAAN,GAA8C,GAAjE;AACA,UAAII,IAAI,GAAIxC,MAAM,CAAC+B,KAAP,CAAa,KAAKV,WAAlB,EAA+BmB,IAA3C,CAHuD,CAIvD;;AACA,UAAIW,gBAAgB,GAAGX,IAAI,GAAGG,IAA9B,CALuD,CAMvD;;AACA,UAAIA,IAAI,IAAIH,IAAI,IAAI,IAAI,CAAR,CAAZ,IAA0BU,YAAY,IAAIV,IAA1C,IAAkDG,IAAI,GAAGH,IAA7D,EAAmE;AAC/D,aAAKd,UAAL,CAAgB0B,aAAhB,GAD+D,CAE/D;AACH;;AAAA;AACJ,KAXD,MAWO;AACH;AACH;AAEJ,GA3FI;AA4FLC,EAAAA,MA5FK,oBA4FI,CAER,CA9FI;AAgGLC,EAAAA,KAhGK,mBAgGG,CAEP,CAlGI,CAoGL;;AApGK,CAAT","sourceRoot":"/","sourcesContent":["var user_data = require(\"user_data\");\nvar config = require(\"config\");\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        icon_sprite: cc.Sprite,\n        work_time_label: cc.Label,\n        rest_time_label: cc.Label,\n        cost_label: cc.Label,\n        icon_frame_arr: [cc.SpriteFrame],\n        buy_button: cc.Node,\n        work_time_buff_label: cc.Label,\n        rest_time_buff_label: cc.Label,\n        employed_button: cc.Node,\n        name_lable: cc.Label,\n        introduce_label: cc.Label,\n    },\n    //ini node\n    ini_node: function (staff_index) {\n        this.game_scene_js = cc.find(\"UI_ROOT\").getComponent(\"game_scene\");\n        this.game_rules_js = cc.find(\"UI_ROOT\").getComponent(\"game_rules\");\n        this.ad_control = cc.find(\"ad_control\").getComponent(\"ad_control\");\n        this.sound_control = cc.find(\"sound_control\").getComponent(\"sound_control\");\n        this.staff_index = staff_index;\n        this.update_content();\n        // this.create_ad_car();\n    },\n    //刷新数据\n    update_content() {\n        this.icon_sprite.spriteFrame = this.icon_frame_arr[this.staff_index];\n        this.work_time_label.string = \"Active time:\" + config.staff[this.staff_index].work_time + \"seconds\";\n        this.rest_time_label.string = \"Free time:\" + config.staff[this.staff_index].rest_time + \"seconds\";\n        this.name_lable.string = config.staff[this.staff_index].name;\n        this.introduce_label.string = config.staff[this.staff_index].introduce;\n        //技能提示\n        if (user_data.user_data.skill[\"labor_contract\"] == 0) {\n            this.work_time_buff_label.node.active = false;\n        } else {\n            this.work_time_buff_label.node.active = true;\n            this.work_time_buff_label.string = \"+\" + user_data.user_data.skill[\"labor_contract\"];\n        };\n        if (user_data.user_data.trader[\"recipes\"] == 0) {\n            this.rest_time_buff_label.node.active = false;\n        } else {\n            this.rest_time_buff_label.node.active = true;\n            this.rest_time_buff_label.string = \"-\" + user_data.user_data.trader[\"recipes\"];\n        };\n\n        this.cost_label.string = \"Cost:\" + config.staff[this.staff_index].cost;\n        if (user_data.user_data.staff[this.staff_index].have == 0) {\n            this.buy_button.active = true;\n            this.employed_button.active = false;\n        } else {\n            this.buy_button.active = false;\n            this.employed_button.active = true;\n        };\n    },\n    //buy staff\n    on_buy_button_click: function () {\n        if (user_data.user_data.gold >= config.staff[this.staff_index].cost) {\n            user_data.user_data.gold -= config.staff[this.staff_index].cost;\n            user_data.user_data.staff[this.staff_index].have = 1;\n            this.game_rules_js.create_staff(this.staff_index);\n            this.buy_button.active = false;\n            this.sound_control.play_sound_effect(\"button_click\");\n            this.update_content();\n        } else {\n            this.sound_control.play_sound_effect(\"un_click\");\n            this.game_scene_js.create_tips_ui(this.game_rules_js.node, \"no_money_gold\");\n        };\n    },\n    touch_exit: function () {\n        this.sound_control.play_sound_effect(\"button_exit\");\n        this.node.destroy();\n    },\n    //创建ad_car\n    create_ad_car() {\n        if (user_data.user_data.staff[this.staff_index].have != 1) {\n            var gold = user_data.user_data.gold;\n            var all_capacity = 500 * user_data.user_data.skill[\"gold_max\"] + 500;\n            var cost = (config.staff[this.staff_index].cost);\n            //差价\n            var price_difference = cost - gold;\n            //大于4/5,且能够拥有，且金币不足\n            if (gold >= cost * (4 / 5) && all_capacity >= cost && gold < cost) {\n                this.ad_control.hide_bannerAd();\n                // this.game_scene_js.create_ad_car(this.node, price_difference);\n            };\n        } else {\n            return;\n        }\n\n    },\n    onLoad() {\n\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n});\n"]}
{"version":3,"sources":["assets\\script\\ui\\novice_ui.js"],"names":["cc","Class","Component","properties","talk_group","Node","paper_node","exit_button_node","title_node","ini_node","sound_control","find","getComponent","active","i","children","length","opacity","talk_count","height","ini_paper_anim","tween","to","easing","call","ini_talk_anim","show_exit_button_node","start","callback","scheduleOnce","on_exit_button_click","play_sound_effect","node","destroy"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAEJ,EAAE,CAACK,IADP;AAERC,IAAAA,UAAU,EAAEN,EAAE,CAACK,IAFP;AAGRE,IAAAA,gBAAgB,EAAEP,EAAE,CAACK,IAHb;AAIRG,IAAAA,UAAU,EAAER,EAAE,CAACK;AAJP,GAHP;AAUL;AACAI,EAAAA,QAXK,sBAWM;AACP,SAAKC,aAAL,GAAqBV,EAAE,CAACW,IAAH,CAAQ,eAAR,EAAyBC,YAAzB,CAAsC,eAAtC,CAArB;AACA,SAAKL,gBAAL,CAAsBM,MAAtB,GAA+B,KAA/B;AACA,SAAKL,UAAL,CAAgBK,MAAhB,GAAyB,KAAzB;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKV,UAAL,CAAgBW,QAAhB,CAAyBC,MAA7C,EAAqDF,CAAC,EAAtD,EAA0D;AACtD,WAAKV,UAAL,CAAgBW,QAAhB,CAAyBD,CAAzB,EAA4BG,OAA5B,GAAsC,CAAtC;AACH;;AAAA;AACD,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKZ,UAAL,CAAgBa,MAAhB,GAAyB,GAAzB;AACA,SAAKC,cAAL;AAEH,GAvBI;AAyBL;AACAA,EAAAA,cA1BK,4BA0BY;AAAA;;AACbpB,IAAAA,EAAE,CAACqB,KAAH,CAAS,KAAKf,UAAd,EACKgB,EADL,CACQ,GADR,EACa;AAAEH,MAAAA,MAAM,EAAE;AAAV,KADb,EAC+B;AAAEI,MAAAA,MAAM,EAAE;AAAV,KAD/B,EAEKC,IAFL,CAEU,YAAM;AACR,MAAA,KAAI,CAAChB,UAAL,CAAgBK,MAAhB,GAAyB,IAAzB;;AACA,MAAA,KAAI,CAACY,aAAL;;AACA,MAAA,KAAI,CAACC,qBAAL;AACH,KANL,EAOKC,KAPL;AAQH,GAnCI;AAqCL;AACAF,EAAAA,aAtCK,2BAsCW;AACZ,QAAIG,QAAQ,GAAG,SAAXA,QAAW,GAAY;AACvB,WAAKxB,UAAL,CAAgBW,QAAhB,CAAyB,KAAKG,UAA9B,EAA0CD,OAA1C,GAAoD,GAApD;AACA,WAAKC,UAAL;;AACA,UAAI,KAAKA,UAAL,IAAmB,KAAKd,UAAL,CAAgBW,QAAhB,CAAyBC,MAAhD,EAAwD;AACpD;AACH;;AAAA;AACD,WAAKS,aAAL;AACH,KAPD;;AAQA,SAAKI,YAAL,CAAkBD,QAAlB,EAA4B,GAA5B;AACH,GAhDI;AAiDLF,EAAAA,qBAjDK,mCAiDmB;AAAA;;AACpB,SAAKG,YAAL,CAAkB,YAAM;AACpB,MAAA,MAAI,CAACtB,gBAAL,CAAsBM,MAAtB,GAA+B,IAA/B;AACH,KAFD,EAEG,GAFH;AAGH,GArDI;AAsDL;AACAiB,EAAAA,oBAvDK,kCAuDkB;AACnB,SAAKpB,aAAL,CAAmBqB,iBAAnB,CAAqC,aAArC;AACA,SAAKC,IAAL,CAAUC,OAAV;AACH,GA1DI;AA4DL;AAEAN,EAAAA,KA9DK,mBA8DG,CAEP,CAhEI,CAkEL;;AAlEK,CAAT","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        talk_group: cc.Node,\r\n        paper_node: cc.Node,\r\n        exit_button_node: cc.Node,\r\n        title_node: cc.Node,\r\n    },\r\n\r\n    //ini_node\r\n    ini_node() {\r\n        this.sound_control = cc.find(\"sound_control\").getComponent(\"sound_control\");\r\n        this.exit_button_node.active = false;\r\n        this.title_node.active = false;\r\n\r\n        for (var i = 0; i < this.talk_group.children.length; i++) {\r\n            this.talk_group.children[i].opacity = 0;\r\n        };\r\n        this.talk_count = 0;\r\n        this.paper_node.height = 505;\r\n        this.ini_paper_anim();\r\n\r\n    },\r\n\r\n    //纸动画\r\n    ini_paper_anim() {\r\n        cc.tween(this.paper_node)\r\n            .to(0.3, { height: 1042 }, { easing: \"sineIn\" })\r\n            .call(() => {\r\n                this.title_node.active = true;\r\n                this.ini_talk_anim();\r\n                this.show_exit_button_node();\r\n            })\r\n            .start();\r\n    },\r\n\r\n    //ini anim\r\n    ini_talk_anim() {\r\n        var callback = function () {\r\n            this.talk_group.children[this.talk_count].opacity = 255;\r\n            this.talk_count++;\r\n            if (this.talk_count >= this.talk_group.children.length) {\r\n                return;\r\n            };\r\n            this.ini_talk_anim();\r\n        };\r\n        this.scheduleOnce(callback, 0.2);\r\n    },\r\n    show_exit_button_node() {\r\n        this.scheduleOnce(() => {\r\n            this.exit_button_node.active = true;\r\n        }, 1.5)\r\n    },\r\n    //退出按钮\r\n    on_exit_button_click() {\r\n        this.sound_control.play_sound_effect(\"button_exit\");\r\n        this.node.destroy();\r\n    },\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}